{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import TaskItem from'./TaskItem';import TaskForm from'./TaskForm';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaskList=()=>{const[tasks,setTasks]=useState([]);const[editingTask,setEditingTask]=useState(null);useEffect(()=>{fetchTasks();},[]);const fetchTasks=async()=>{try{const response=await axios.get('http://localhost:5000/api/tasks');setTasks(response.data);}catch(error){console.error('Error fetching tasks:',error);}};const addTask=async task=>{try{const response=await axios.post('http://localhost:5000/api/tasks',task);setTasks([...tasks,response.data]);}catch(error){console.error('Error adding task:',error);}};const updateTask=async(id,updatedTask)=>{try{const response=await axios.put(\"http://localhost:5000/api/tasks/\".concat(id),updatedTask);setTasks(tasks.map(task=>task._id===id?response.data:task));setEditingTask(null);}catch(error){console.error('Error updating task:',error);}};const deleteTask=async id=>{try{await axios.delete(\"http://localhost:5000/api/tasks/\".concat(id));setTasks(tasks.filter(task=>task._id!==id));}catch(error){console.error('Error deleting task:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Task Manager\"}),/*#__PURE__*/_jsx(TaskForm,{onSubmit:editingTask?task=>updateTask(editingTask._id,task):addTask,initialTask:editingTask}),/*#__PURE__*/_jsx(\"ul\",{children:tasks.map(task=>/*#__PURE__*/_jsx(TaskItem,{task:task,onEdit:setEditingTask,onDelete:deleteTask,onUpdate:updateTask},task._id))})]});};export default TaskList;","map":{"version":3,"names":["React","useState","useEffect","axios","TaskItem","TaskForm","jsx","_jsx","jsxs","_jsxs","TaskList","tasks","setTasks","editingTask","setEditingTask","fetchTasks","response","get","data","error","console","addTask","task","post","updateTask","id","updatedTask","put","concat","map","_id","deleteTask","delete","filter","children","onSubmit","initialTask","onEdit","onDelete","onUpdate"],"sources":["C:/Users/Usuario/OneDrive/Ãrea de Trabalho/Portifolio/Projetos/Projeto 2/frontend/src/components/TaskList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport TaskItem from './TaskItem';\r\nimport TaskForm from './TaskForm';\r\n\r\nconst TaskList = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [editingTask, setEditingTask] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  const fetchTasks = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/api/tasks');\r\n      setTasks(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching tasks:', error);\r\n    }\r\n  };\r\n\r\n  const addTask = async (task) => {\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/tasks', task);\r\n      setTasks([...tasks, response.data]);\r\n    } catch (error) {\r\n      console.error('Error adding task:', error);\r\n    }\r\n  };\r\n\r\n  const updateTask = async (id, updatedTask) => {\r\n    try {\r\n      const response = await axios.put(`http://localhost:5000/api/tasks/${id}`, updatedTask);\r\n      setTasks(tasks.map(task => task._id === id ? response.data : task));\r\n      setEditingTask(null);\r\n    } catch (error) {\r\n      console.error('Error updating task:', error);\r\n    }\r\n  };\r\n\r\n  const deleteTask = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/api/tasks/${id}`);\r\n      setTasks(tasks.filter(task => task._id !== id));\r\n    } catch (error) {\r\n      console.error('Error deleting task:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Task Manager</h1>\r\n      <TaskForm onSubmit={editingTask ? (task) => updateTask(editingTask._id, task) : addTask} initialTask={editingTask} />\r\n      <ul>\r\n        {tasks.map(task => (\r\n          <TaskItem key={task._id} task={task} onEdit={setEditingTask} onDelete={deleteTask} onUpdate={updateTask} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}